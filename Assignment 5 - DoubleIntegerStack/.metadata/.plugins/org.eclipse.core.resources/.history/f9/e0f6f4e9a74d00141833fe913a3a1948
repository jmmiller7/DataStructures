package auction;
import java.util.*;

public class Auction 
{
	public static void main(String[] args)
	{
		@SuppressWarnings("resource")
		Scanner keyboard = new Scanner(System.in);
		
		LinkedStack<Bidder> bids = new LinkedStack<Bidder>();
				
		int maxBid = 0;
		int currBid = 0;
		String highBidder = "";
		
		String selection = "";
		String status = "";
		
		
		final String RES1 = "New High Bidder";
		final String RES2 = "High Bid Inc.";
		final String RES3 = "No Change";
		
		boolean cont = false;		
		
		System.out.println("* * *Welcome to the Auction!* * *");
		
		do
		{
			String name = "";
			int bid = 0;
			String result = "";
			
			System.out.print("Please enter bidder's name: ");
			name = keyboard.nextLine();
			System.out.print("Enter a bid: ");
			bid = keyboard.nextInt();
			
			if(bid > maxBid)
			{			
				currBid = maxBid+1;
				highBidder = name;
				
				Bidder bidder = new Bidder(name,currBid);
				bids.push(bidder);
				
				result = RES1;
				maxBid = bid;			
			}
			else 
			{
				if(bid > currBid)
				{	
					currBid = bid;
					Bidder bidder = new Bidder(highBidder,currBid);
					bids.push(bidder);
					result = RES2;
				}
				else
					result = RES3;
			}
			
			System.out.print("Enter a new bidder(y/n)? ");
			selection = keyboard.next();
						
			cont = false;
			if(selection.equalsIgnoreCase("Y"))
				cont = true;
			
			selection = keyboard.nextLine();
			
			
			System.out.println("\nNew Bid\t\tResult\t\t\tHigh Bidder\tHigh Bid\t" + 
								"Maximum Bid");
			status += bid + " " + name + "\t\t" + result + "\t\t" + highBidder + "\t\t" + currBid + "\t\t" + maxBid + "\n";
			System.out.println(status);
				
		}while(cont);
		
		System.out.println("The Auction is Over. Here are the results. The winner is on top.");
		System.out.println("\nBidder\tBid");
		System.out.println(bids);
		
		
		
		System.out.println("Thank you for using auction");
		
	}
}
